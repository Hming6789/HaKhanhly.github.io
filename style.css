/* ============================================= */
/* style.css – ĐÃ CẬP NHẬT          */
/* ============================================= */

body {
    background-color: #fce4ec;
    margin: 0;
    padding: 0;
    font-family: 'Arial', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow: hidden; /* Ngăn thanh cuộn khi hiệu ứng chạy */
}

.wrap {
    position: relative;
    width: 100%;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* ==================== PHONG BÌ ==================== */
.phongbi {
    width: 300px;
    height: 200px;
    position: relative;
    cursor: pointer;
    user-select: none;
    
    /* TRẠNG THÁI BAN ĐẦU: Ở tít bên trái màn hình */
    transform: translateX(-150vw); 
    transition: transform 1.5s ease-out, opacity 0.5s ease;
    z-index: 10;
}

/* Class này giúp phong bì bay vào giữa */
.phongbi.slide-in {
    transform: translateX(0);
}

/* Class này để ẩn phong bì đi khi hiện thiệp */
.phongbi.hide-di {
    opacity: 0;
    pointer-events: none; /* Không cho click khi đang ẩn */
}

/* ... (Giữ nguyên các class con của phong bì: thanphongbi, vophongbi, napphongbi...) ... */
.thanphongbi {
    width: 100%; height: 200px; background: #e3709b; position: absolute; z-index: 0; bottom: 0; left: 0;
    border-radius: 0 0 5px 5px;
}
.vophongbi {
    width: 100%; height: 100%; background-color: #e3709b;
    clip-path: polygon(0 0, 50% 50%, 100% 0, 100% 100%, 0 100%);
    position: absolute; bottom: 0; left: 0; z-index: 3; border-radius: 0 0 5px 5px;
}
.napphongbi {
    width: 100%; height: 100px; background-color: #8f2d3c;
    clip-path: polygon(0 0, 100% 0, 50% 100%);
    position: absolute; z-index: 4; top: 0; left: 0;
    transition: transform 0.6s ease; transform-origin: top;
}
.giaytrongphongbi {
    width: 90%; height: 100px;
    position: absolute; z-index: 1;
    background-color: white; 
    bottom: 15px; 
    left: 5%;
    border-radius: 5px; transition: bottom 0.6s ease;
    padding: 20px 10px;                  /* Căn chỉnh lại khoảng cách chữ */
    box-sizing: border-box;
    text-align: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.giaytrongphongbi .noidung {
    font-family: "Playfair Display";
    font-size: 20px;
    color: #4B4B4B;
    margin: 10px 0;
}
/* Hoa trang trí */
.hoaphongbi1, .hoaphongbi2 {
    width: 450px; height: 238px;
    background-image: url('hoa1.png');
    background-size: contain; 
    background-repeat: no-repeat; 
    background-position: center bottom;
    position: absolute; 
    bottom: 15px; 
    transition: bottom 0.6s ease, opacity 0.6s ease; pointer-events: none; opacity: 0;
}
.hoaphongbi3, .hoaphongbi4 {
    width: 450px; height: 250px;
    background-image: url('hoa3.png'); 
    background-size: contain; 
    background-repeat: no-repeat; 
    background-position: center bottom;
    position: absolute; 
    bottom: 15px; transition: bottom 0.6s ease, opacity 0.6s ease; pointer-events: none; opacity: 0;
}

.hoaphongbi1 { left: 30px; transform: rotate(-20deg); z-index: 0; }
.hoaphongbi3 { left: 30px; transform: rotate(-320deg); z-index: 3; }
.hoaphongbi2 { right: 30px; transform: rotate(320deg); z-index: 3; }
.hoaphongbi4 { right: 30px; transform: rotate(20deg); z-index: 0; }

/* HIỆU ỨNG MỞ (giống code cũ) */
.phongbi.open .napphongbi { transform: rotateX(180deg); z-index: 1; }
.phongbi.open .giaytrongphongbi { bottom: 120px; z-index: 2; } /* Đẩy giấy lên cao hơn vỏ */
.phongbi.open .hoaphongbi1, .phongbi.open .hoaphongbi4 { opacity: 1; bottom: 100px; }
.phongbi.open .hoaphongbi2, .phongbi.open .hoaphongbi3 { opacity: 1; bottom: -30px; }

/* ==================== THIỆP CHÚC MỪNG ==================== */
.thiepchucmung {
    position: absolute; /* Để nó đè lên vị trí phong bì */
    width: 350px;
    height: 600px;
    background-color: #e4a958;
    border-radius: 14px;
    /* Mặc định ẩn đi */
    opacity: 0;
    visibility: hidden;
    transform: scale(0.5); /* Thu nhỏ một chút */
    transition: all 0.8s ease;
    cursor: pointer;
    z-index: 20;
}

/* Class để hiện thiệp lên */
.thiepchucmung.hien-len {
    opacity: 1;
    visibility: visible;
    transform: scale(1);
}
.giaytrongthiep {
    position: absolute; 
    top: 0; 
    left: 5.35px; 
    width: 98%; 
    height: 350px;
    background-color: white; 
    border: 8px solid #e4a958; 
    border-radius: 16px;
    box-sizing: border-box; 
    z-index: 1;

    /* --- PHẦN MỚI THÊM VÀO --- */
    overflow-y: auto;   /* Tự động hiện thanh cuộn khi nội dung dài quá chiều cao */
    overflow-x: hidden; /* Ẩn thanh cuộn ngang */
    padding: 15px;      /* Thêm khoảng đệm để chữ không dính sát vào viền */
    text-align: justify; /* Căn đều chữ 2 bên cho đẹp (tuỳ chọn) */
}
.giaytrongthiep .noidungthiep {
    font-family: "Segoe Script", "Segoe UI Script", "Brush Script MT", cursive;
    font-size: 18px;
    color: #4B4B4B;
    margin: 10px 0;
}

/* Tùy chỉnh thanh cuộn cho Chrome, Safari, Edge */
.giaytrongthiep::-webkit-scrollbar {
    width: 8px; /* Độ rộng của thanh cuộn */
}

/* Phần nền (đường ray) của thanh cuộn */
/* Phần tay cầm kéo của thanh cuộn */
.giaytrongthiep::-webkit-scrollbar-thumb {
    background: #e4a958; /* Màu cam giống viền thiệp */
    border-radius: 10px;
}
/* Khi di chuột vào thanh cuộn */
.giaytrongthiep::-webkit-scrollbar-thumb:hover {
    background: #e3709b; /* Đổi sang màu hồng đậm hơn */
}
/* Ảnh 1 dạng tight bên phải */
.img-tight-right {
    float: right;
    width: 40%;       /* vừa phải */
    height: auto;
    margin-left: 10px;
    margin-bottom: 10px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
/* Ảnh 2 lớn nằm dưới */
.img-large-bottom {
    display: block;
    width: 80%;
    height: 200px;
    object-fit: cover;   /* ảnh luôn đầy khung nhưng không méo */
    margin: 20px auto;   /* căn giữa ảnh */
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.15);
    clear: both;         /* rất quan trọng: đảm bảo nằm dưới ảnh 1 */
}
.trangtri1 {
    position: absolute; /* Bắt buộc có để căn chỉnh theo góc thiệp */
    bottom: 10px;       /* Cách mép dưới 10px */
    right: 10px;        /* Cách mép phải 10px */
    width: 140px;       /* Tăng kích thước lên để nhìn rõ ảnh (tùy chỉnh to nhỏ ở đây) */
    height: auto;       /* Chiều cao tự động theo tỷ lệ ảnh */
    z-index: 30;        /* Đảm bảo nó nổi lên trên lớp giấy trắng */
    
    /* Nếu bạn muốn xoay ảnh nghiêng một chút thì giữ lại dòng dưới, không thì xóa đi */
    transform: rotate(10deg); 
}

/* Class cho ảnh bên trong (file HTML bạn đã đặt class này nhưng chưa CSS) */
.img-duoiphai {
    width: 100%;        /* Ảnh chiếm full chiều rộng của thẻ .trangtri */
    height: auto;       /* Giữ tỷ lệ ảnh không bị méo */
    display: block;
    border-radius: 10px; /* Bo góc ảnh cho mềm mại (tùy chọn) */
    box-shadow: 2px 2px 5px rgba(0,0,0,0.2); /* Đổ bóng nhẹ cho đẹp */
}
.trangtri2 {
    position: absolute; /* Bắt buộc có để căn chỉnh theo góc thiệp */
    bottom: -10px;       /* Cách mép dưới 10px */
    left: -100px;        /* Cách mép phải 10px */
    width: 280px;       /* Tăng kích thước lên để nhìn rõ ảnh (tùy chỉnh to nhỏ ở đây) */
    height: auto;       /* Chiều cao tự động theo tỷ lệ ảnh */
    z-index: 30;        /* Đảm bảo nó nổi lên trên lớp giấy trắng */
    
    /* Nếu bạn muốn xoay ảnh nghiêng một chút thì giữ lại dòng dưới, không thì xóa đi */
    transform: rotate(-30deg); 
}

/* Class cho ảnh bên trong (file HTML bạn đã đặt class này nhưng chưa CSS) */
.img-duoitrai {
    width: 100%;        /* Ảnh chiếm full chiều rộng của thẻ .trangtri */
    height: auto;       /* Giữ tỷ lệ ảnh không bị méo */
    display: block;
    border-radius: 10px; /* Bo góc ảnh cho mềm mại (tùy chọn) */
}
/* Khung chứa 2 nút */
.button-wrap {
    width: 100%;
    text-align: center;
    margin-top: 10px;
    margin-bottom: 20px;
    clear: both; /* đảm bảo nằm dưới tất cả ảnh */
}

/* Style nút bấm */
.btn-thiep {
    display: inline-block;
    padding: 10px 20px;
    margin: 8px;
    background-color: #f29b6f;         /* màu cam giống viền thiệp */
    color: white;
    font-family: "Segoe Script", "Segoe UI Script", cursive;
    font-size: 16px;
    text-decoration: none;
    border-radius: 12px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.2);
    transition: 0.25s ease;
}

/* Hiệu ứng hover */
.btn-thiep:hover {
    background-color: #e3709b;         /* hồng đậm khi hover */
    transform: translateY(-2px);
}
